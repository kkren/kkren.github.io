<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[XPS 15 杀手？ - Dell Inspiron 7591 体验报告 by kotomei]]></title>
    <url>%2F2019%2F08%2FDell-Inspiron-7591-review%2F</url>
    <content type="text"><![CDATA[谈起 Dell，不少人想到的应该都是被称为超极本标杆的 XPS 系列。但其高贵的售价，只能让像我这样的穷人看着流口水。但在今年的 ComputeX 上，Dell 发布了一款被称作为穷人版 XPS 15 的 Inspiron 7590 ，对我来说终于找到了一款在各方面都没有明显短板的同时还「穷人友好」的笔记本。在准备入手时发现京东上 7590 的换壳减价版 7951 正在秒杀促销，Google 一番后发现二者除外壳材质外几乎毫无差别。于是为了钱包能更轻松些，我选择了 7951。事后证明这次痛快出手是个正确的决定。 配置 i5-9300H@2.4GHz，4C8T，最高可睿频至 4.1GHz 单通道 8GB DDR4 2666MHz （可自行增加内存条升级为双通道） 512G PCIe x2 SSD GTX1650 4GB 显存版本 15.6 寸 1080P 60FPS IPS 屏幕，色域为 NTSC 72% 并支持 HDR 97Wh 六芯电池 IO 接口方面： 1 个 HDMI 2.0 接口 3 个 USB 3.1 Gen1 接口，均为 USB Type-A 1 个雷电三接口 1 个 MicroSD 读卡器（USB） 1 个耳机 / 麦克风二合一 3.5MM 接口 初步印象京东的物流速度当然没得说，到手之后我也是第一时间在 Android Dress 群内进行了 图片直播开箱。实测 1.9KG 的机身重量对于一台拥有 97Wh 的电池容量的设备可以说是十分惊喜了。银白色的机身可能不合有些人的口味，但对我来说完全 OK。 在随后的使用中发现笔记本后盖的左下和右下角未完全紧贴，当时认为是自己开启后盖安装内存条时由于力度过大导致后盖变形，所以并没有放在心上。然而在随后和其他几位 7951 买家沟通后发现有一部分人与我的情况一样，并且他们未开启过后盖。可能这次 Dell 的外壳设计有些问题。 另外，在上手 7591 后的几个小时内，我的手指被外壳割出了伤口，这也让我对「外壳割手」的认识又上了一个新的层次。 外观 A 面，还是经典的 Dell 圆形 Logo B、C 面，可以看到键盘和机身是同样材质的金属键盘 D 面，作为相对廉价的 Inspiron 产品线肯定没有和 XPS 那样「高贵」的「狗牌」 性能不多说，直接放跑分成绩。 进行测试时由于控制变量并不严谨，本部分的成绩仅供参考。 3DMark 成绩 CineBench R20 成绩 CineBench R15 成绩 在 AIDA 64 的系统稳定性测试下，CPU FPU 双烤一分半后 CPU 频率在 3GHz +- 0.05GHZ 浮动，CPU 单烤一分半时 CPU 频率稳定在 3.65GHz -+ 0.02GHz。 值得一提的是，在更换原厂硅脂为信越 7921 之后，CPU 的性能相对于原厂硅脂又有了提升。 更换硅脂后的 CineBench R20 成绩 更换硅脂后的 AIDA 64 CPU FPU 双烤成绩 更换硅脂后的 AIDA 64 CPU 单烤成绩 屏幕这块 15.6 寸 1080P 60FPS 的屏幕没有什么特别出彩的点，72% NTSC 的色域对于一般人也已经完全可以满足日常的需求了，屏幕的可视角度也没有什么大问题。支持 HDR 视频播放可以让平时摸鱼看 NetFlix 的时候能更开心一些。总体而言算中规中矩。专业的客观数据测试截至目前（2019 年 7 月 5 日（CST））本人并未找到，所以这里也就不再给出了。 可升级性说起笔记本，也就不得不说可升级性了。拆开 D 面后你会看到一个空闲的 M.2 PCIe x4 2280 接口和一个 DDR4 SODIMM 接口，如果你购买的是 56Wh 电池版本，还会看到一个 2.5 寸硬盘槽位。对于可升级性来讲，这款笔记本算相对友好的了。值得一提的是，笔记本自带的 NVMe SSD 所安装的槽位是 2230/2242/2280 可调节的。另外一个雷电三接口也解决了不少扩展性与后期升级方面的问题。需要注意的是，笔记本自带的无线网卡所使用的是 Intel 新提出的 CNVi 接口规范，让部分想更换网卡安装 Hackintosh 的玩家工程量大大加大。唯一可行的方案是使用 2230/2242/2280 可调节的接口安装网卡，但同时也需要重新考虑天线在机身内部的走线问题。 键盘这款笔记本所使用的键盘是小 Enter 小方向键布局（如 B、C 面图片所示），对于部分人来说可能需要一定的适应时间。总体而言，一旦上手，键盘的手感还是很舒服的。有小键盘的布局让一些数字处理会更轻松一些。唯一的缺点是这台电脑不支持 Windows Hello 生物信息识别。 触控板在 2019 年，Windows Precision TouchPad 基本上是笔记本标配了，加上较大的尺寸让触控板体验也是很舒服的。但对于我来说，由于触控板的位置，在平时打字时时常会出现误触的情况。虽说影响不是很大但让我感觉还是很难受。在 Windows 设置中讲触控板的灵敏度调整为低后误触情况相对改善不少。 IO 接口这台笔记本给了三个 Type-A 接口，让你不必成为 Dongle Man，一个雷电三接口也为未来留好了扩展性。唯一的缺点就是这台笔记本给的是 MicroSD 卡读卡器而不是 SD 卡读卡器，不过对于我来说问题不是很大。 音响由于平时主要是使用耳机，再加上是一双木耳朵。所以这里也不做过多评价。 一点后话被朋友笑称为「全都不能本」的 Dell Inspiron 7590/7591 ，反而在京东上销量火爆，基本上是一上货就被抢光的状态。也许在 6000-8000 元价位的这款笔记本，正好命中了不少人的 Sweet spot 。结合今年 Intel 在 ComputeX 所提出的 Creator laptop 这一概念，Dell Inspiron 7590/7591 可以说是 Dell 交出的一份对 Creator laptop 这一概念的答卷。相对比更高端的 10000 元价位的超极本更亲民的价格，和比同 6000-8000 元价位的竞品相对更强劲的性能，让与我一样对性能有所要求但预算受限的人有了更好的选择。在 Dell 的 Inspiron 7951 产品信息页也可以看到 Dell 是有计划推出 i9 机型 与 4K 分辨率 aRGB 100% 色域屏幕 的版本。而相对更沉稳的外形也让人没有用游戏本时的那种尴尬。 综上，这款笔记本可能会是部分与我一样即将进入大学生活的学生和一些对性能有要求但预算又受限的创意工作者的首选。 本文最初发表于 Telegram 上的体验测评频道 @tsuBench 并以 CC 4.0-BY-NC-SA 方式分享。 tsuBench © 2019]]></content>
  </entry>
  <entry>
    <title><![CDATA[Windows 字体渲染优化]]></title>
    <url>%2F2019%2F03%2Fimprove-windows-font-rendering%2F</url>
    <content type="text"><![CDATA[从 2k 屏的 Surface book 换到 24 寸的 1080p Dell 屏，Windows 默认的字体渲染几乎不能忍。因为我很穷，买不起高分辨率的显示器，只好研究一些奇怪的方式来优化这电脑的使用体验。 noMeiryoUInoMeiryoUI 是我第一个尝试的方案。它可以在不修改系统文件的前提下修改系统的字体。按照网上的推荐，我将字体改成了 更纱黑体。效果还是有一点的，但是 Windows 字体最大的问题——笔画的锯齿非常明显，并没有得到改善。 Mactype在沉寂了许久以后，最新的 MacType 2018.1-beta5 已经大大改善了兼容性问题。现在 Mactype 已经可以支持包括 Chrome 在内的大多数 DirectWrite 程序。 Mactype 的加载方式，我选择的服务加载。第一次使用的时候可以使用托盘加载，没有问题再切换成其他模式。使用托盘加载时我有时会遇到 Chrome 不加载 Mactype 的问题，不知道是不是 bug。 Mactype 的配置推荐 James 大佬 的。我在他的配置上又做了一些修改。从 L324 到 L282 我全部注释了，因为加载这些进程在我这里没有遇到什么奇怪的问题，而且文件管理器毕竟还是经常要用到的。我也没有把 Chrome 中的雅黑替换成思源黑体，因为我也没有遇到奇怪的 bug。然后，在 Chrome 中用 XStyle 之类的插件加载这个 CSS。然后，[ExcludeSub] 中加入了 origin 和 uplay 的进程，这两个程序替换字体后图标都变成了方框。 [Exclude] 呢？这个配置有什么用？答案就是没有用，作者在 Issue 中解释过了。 [Exclude] - does not exist. 许多配置不生效？很有可能是文件编码的问题。从 GitHub 上下载的文件默认是 UTF-8 编码，但是 Mactype 识别的是 GB 2312 编码。需要你自己用文本编辑器转换一下。 效果 Mactype 的渲染策略大概是，当分辨率不足以清晰的渲染字体的时候，用一团灰色的东西来渲染对应的笔画，说的简单点就是抗锯齿。对于天天看中文的人来说，不用看清每一个笔画就能看懂对应的字，而且这应该是分辨率不足的情况下最大程度模仿印刷效果的方式，比微软选择的 Hinting 好很多（大概）。]]></content>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[持续集成部署 hexo]]></title>
    <url>%2F2018%2F12%2Fhexo-with-travis%2F</url>
    <content type="text"><![CDATA[过去一直在写完博客后手动生成静态文件，然后丢到服务器上。但是在多终端上不方便保持统一的体验。解决这个问题的办法是使用 Travis ci 自动编译 hexo 的静态文件，然后通过 GitHub webhook 通知服务器更新网站。 创建 GitHub repo使用 git clone 将 repo 下载到本地后，执行 git checkout hexo 创建一个 hexo 分支，然后把原来的 hexo 文件夹全部复制进来。如果你之前曾用 git clone 的方式安装过主题，建议将主题目录里的 .git 文件删除，或者改用 submodule 的方式引用主题项目（不推荐）。 创建 Travis ci 配置复制以下代码， 修改里面有关用户名和仓库地址的信息后 储存为 .travis.yml 在 repo 目录中。 12345678910111213141516171819202122232425262728293031language: node_jsnode_js: stablebranchs: only: - hexocache: directories: - node_modulesbefore_install:# 安装 hexo-cli- npm install -g hexo-cliinstall:# 安装依赖包 - npm installscript:- hexo gafter_script:- git clone https://$&#123;GH_REF&#125; .deploy_git- cd .deploy_git- git checkout master- cd ../- mv .deploy_git/.git/ ./public/- cd ./public- git config --global user.email "example@gmail.com"- git config --global user.name "username" - git add .- git commit -m "Travis CI Auto Builder"- git push --force --quiet "https://$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;" master:masterenv: global: - GH_REF: github.com/username/username.github.io.git GH_TOKEN 需要加密后储存在配置文件中，打开 Github 设置 创建一个新的 token，按下图配置权限即可： 然后，在安装好 ruby 的环境下，进入到 repo 的目录执行下面的命令，就能把 token 加密后添加到 Travis 配置中。 1234gem install travistravis login# 交互式完成登陆 travis encrypt 'GH_TOKEN=&lt; 这里填入你生成的 Token &gt;' --add 在 Linux 环境下，通过包管理器就能安装 ruby，具体步骤请查看 官方文档。 启用 Travis ci在 Travis ci 官网 用自己的 GitHub 账户登陆，然后选择你网站的 repo，编译应该会自动开始。一切正常的话，编译结束后你 repo master 分支已经部署好了网站的静态文件。整个编译的日志都会被记录下来。常见问题的解决方法： 需要通过包管理器安装其他依赖在 npm install 上添加两行： 12- sudo apt-get update- sudo apt-get install -y package sudo 和 apt-get update 都是必须的 接收 webhook新建一个文件夹保存 webhook.js 和 deploy.sh，在这个文件夹下执行 npm install github-webhook-handler。将以下代码保存到 webhook.js： 12345678910111213141516171819202122232425262728293031323334353637383940var http = require('http')var createHandler = require('github-webhook-handler')var handler = createHandler(&#123; path: '/deploy', secret: 'token'&#125;)// 上面的 secret 保持和 GitHub 后台设置的一致 function run_cmd(cmd, args, callback) &#123; var spawn = require('child_process').spawn; var child = spawn(cmd, args); var resp = ""; child.stdout.on('data', function(buffer) &#123; resp += buffer.toString(); &#125;); child.stdout.on('end', function() &#123; callback(resp) &#125;);&#125;http.createServer(function(req, res) &#123; handler(req, res, function(err) &#123; res.statusCode = 404 res.end('no such location') &#125;)&#125;).listen(7777)handler.on('error', function(err) &#123; console.error('Error:', err.message)&#125;)handler.on('push', function(event) &#123; console.log('Received a push event for %s to %s', event.payload.repository.name, event.payload.ref); run_cmd('sh', ['./deploy.sh', event.payload.repository.name], function(text) &#123; console.log(text) &#125;);&#125;) 将以下代码保存到 deploy.sh： 1234567#!/bin/bashWEB_PATH='/var/www/'$1cd $WEB_PATHecho "pulling source code at $WEB_PATH..."git pull 假设网站目录在 /var/www/ 下，以 repo 名命名。然后执行 : 12npm install pm2 -gpm2 start webhook.js 安装 pm2 来保持 webhook 运行。然后在 nginx 的站点配置文件中添加： 123location /deploy &#123; proxy_pass http://127.0.0.1:7777;&#125; 重载 nginx，然后提前从 GitHub clone 下网站文件到相应的目录。 添加 webhook打开 repo 的 settings-webhooks，点击 add webhook，按下图配置：secret 要和 webhook.js 中的相同。添加以后，如果 request 正确的返回了 200，网站应该自动更新完毕了。]]></content>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[本博客的 Nginx 优化编译方案]]></title>
    <url>%2F2018%2F10%2Fnginx-configuration%2F</url>
    <content type="text"><![CDATA[在编译的过程中，参考了 imququ 等大佬的资料，在最新的 mainline Nginx 之上添加了 ngx_brotli 模块并使用最新的 OpenSSL 编译。 编译 Nginx我服务器的环境是 debian 9，在编译前先安装依赖。 1sudo apt-get install build-essential libpcre3 libpcre3-dev zlib1g-dev unzip git 然后下载并解压 Nginx 和其他模块 123456789101112# Nginxwget -c http://nginx.org/download/nginx-1.15.6.tar.gztar zxf nginx-1.15.6.tar.gz# OpenSSLwget -c https://github.com/openssl/openssl/archive/OpenSSL_1_1_1.tar.gztar xzf OpenSSL_1_1_1.tar.gzmv openssl-OpenSSL_1_1_1 openssl# ngx_brotligit clone https://github.com/google/ngx_brotli.gitcd ngx_brotligit submodule update --initcd ../ 开始编译 1234cd nginx-1.15.6./configure --add-module=../ngx_brotli --with-openssl=../openssl --with-openssl-opt='enable-tls1_3' --with-http_v2_module --with-http_ssl_module --with-http_gzip_static_modulemakesudo make install 如果需要升级 Nginx ，不要执行 sudo make install ，执行下面的命令。 123456cp /usr/local/nginx/sbin/nginx /usr/local/nginx/sbin/nginx.old# 备份 Nginxcp -f objs/nginx /usr/local/nginx/sbin/nginxnginx -t# 解决上一条命令出现的问题后继续 make upgrade 配置 Nginx安装后 Nginx 和配置在 /usr/local/nginx/ 下面。首先打开 conf/nginx.conf 123sendfile on;tcp_nopush on;tcp_nodelay on; 这三行，原来注释掉的改成 on 。 12345678910111213gzip on;gzip_vary on;gzip_comp_level 6;gzip_buffers 16 8k;gzip_min_length 1000;gzip_proxied any;gzip_disable "msie6";gzip_http_version 1.0;gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/javascript image/svg+xml; brotli on;brotli_comp_level 6;brotli_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/javascript image/svg+xml; 启用 gzip 和 brotli 压缩。然后创建一个网站的配置。 12345ssl_protocols TLSv1.3 TLSv1.2;ssl_ciphers TLS13-AES-256-GCM-SHA384:TLS13-CHACHA20-POLY1305-SHA256:TLS13-AES-128-GCM-SHA256:TLS13-AES-128-CCM-8-SHA256:TLS13-AES-128-CCM-SHA256:EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH;add_header Strict-Transport-Security "max-age=63072000; includeSubDomains; preload";add_header X-Frame-Options deny;add_header X-Content-Type-Options nosniff; 重点就是加密算法的选择和 HSTS 。 其他的优化博客的所有文件都会用 service worker 永久缓存在读者的电脑上。直接安装 hexo-service-worker 插件即可。 博客的图片放在 sm.ms 图床上，然后使用 hexo-lazyload 制作加载时的缩略图。放上一张首次加载首页的耗时图。]]></content>
  </entry>
  <entry>
    <title><![CDATA[使用 transmission 在 linux 上搭建 pt 下载环境]]></title>
    <url>%2F2018%2F05%2Ftransmission-in-linux%2F</url>
    <content type="text"><![CDATA[现在在 linux 服务器上部署的 pt 下载器主要是 aria2， transmission 和 rtorrent，然而 aria2 要下载 pt 的话还需要伪装客户端，rtorrent 的 webui 太丑加载速度还很慢，于是最后选择了 transmission。博客中提到的服务器的配置为 Intel Atom N2800 2c/4 t 1.86GHz，4Gb DDR3 1066，2T HDD， 位于欧洲，不抗投诉。 安装 transmission 与 deamon服务器的系统环境是 debian9，所以可以很方便用包管理器安装需要的软件 12apt -y install transmission transmission-deamonsystemctl enable transmission-deamon 好像没有什么特别的配置要配置的，反正 webui 里都可以改 安装修改版的 transmission webui项目地址，安装过程也是全自动的 12wget https://github.com/ronggang/transmission-web-control/raw/master/release/install-tr-control.shbash install-tr-control.sh 接下来输入 1 然后按回车就可以了 然后重启下 transmission 1systemctl restart transmission-deamon 安装 transmission-rss使用 nginx 反代 webuitransmission 的 webui 没有 ssl 也没法加密码，所以用 nginx 反代下，性能更高。我安装的 nginx 是来自 烧饼博客上的教程，下面是配置文件123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657server &#123;listen 80 default_server;listen [::]:80 default_server;server_name example.com;location /.well-known/acme-challenge &#123;root /var/www/letsencrypt;&#125;location / &#123;return 301 https://$host$request_uri;&#125;&#125;server &#123;listen 443 ssl http2 default_server;listen [::]:443 ssl http2 default_server;server_name example.com;client_max_body_size 10m;server_tokens off;root /var/www/rutorrent;index index.html index.htm index.php;ssl_dhparam /etc/nginx/ssl/dhparam.pem;ssl_protocols TLSv1 TLSv1.1 TLSv1.2;ssl_ciphers &apos;ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS&apos;;ssl_prefer_server_ciphers on;ssl_session_cache shared:SSL:50m;ssl_session_timeout 1d;ssl_certificate /etc/nginx/ssl/fullchain.cer;ssl_certificate_key /etc/nginx/ssl/dl.key;add_header Strict-Transport-Security &quot;max-age=63072000; includeSubDomains; preload&quot;;add_header X-Frame-Options SAMEORIGIN;add_header X-Content-Type-Options nosniff;add_header X-XSS-Protection &quot;1; mode=block&quot;;location / &#123;auth_basic &quot;Restricted&quot;;auth_basic_user_file /etc/nginx/passwd;proxy_pass http://127.0.0.1:9091;&#125;location ~ \.php$ &#123;fastcgi_pass unix:/run/php/php7.2-fpm.sock;include snippets/fastcgi-php.conf;&#125;access_log /var/log/nginx/rutorrent.access.log;error_log /var/log/nginx/rutorrent.error.log;&#125; 其中，/etc/nginx/passwd 的生成方法是 printf &quot;user:$(openssl passwd -crypt password)\n&quot; &gt;&gt; /etc/nginx/passwd。 最后的效果 真香]]></content>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F05%2Fhello-world%2F</url>
    <content type="text"><![CDATA[在咕咕咕了很久很久以后，这个破博客又上线了。以前的文章什么都没有了，反正也没几篇。以后写的 bug 都会放在这里 2018 年 5 月 13 日]]></content>
  </entry>
</search>
